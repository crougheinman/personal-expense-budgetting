<div class="barcode-scanner">
  <div class="video-container" *ngIf="isScanning">
    <div class="video-wrapper">
      <video
        id="barcodeVideoElement"
        class="responsive-video"
        [style.cursor]="'crosshair'"
        autoplay
        playsinline
      ></video>
      <div class="focus-indicator" id="focusIndicator"></div>
    </div>
  </div>
  
  <div class="controls">
    <button 
        mat-raised-button
        color="{{ isScanning ? 'warn' : 'primary' }}"
        (click)="isScanning ? stopScan() : startScan()"
        class="toggle-btn"
    >
        <mat-icon>{{ isScanning ? 'stop' : 'videocam' }}</mat-icon>
        {{ isScanning ? 'Stop' : 'Start' }} Scan
    </button>
    
    <button 
        *ngIf="isScanning && canManualFocus"
        mat-stroked-button
        color="accent"
        (click)="triggerFocus()"
        class="focus-btn"
        matTooltip="Trigger manual focus"
    >
        <mat-icon>center_focus_strong</mat-icon>
        Focus
    </button>
  </div>
  
  <div class="result" *ngIf="barcodeResult">
    <p><strong>Scanned:</strong> {{ barcodeResult }}</p>
  </div>
  
  <div class="status" *ngIf="isScanning">
    <p>ðŸ“± Point camera at a barcode...</p>
    <small>Make sure the barcode is clear and well-lit</small>
    <br>
    <small>ðŸ’¡ Tap on the video to focus on a specific area</small>
  </div>
</div>
